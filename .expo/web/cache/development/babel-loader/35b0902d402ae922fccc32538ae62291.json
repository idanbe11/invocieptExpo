{"ast":null,"code":"\"use strict\";\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n\n  if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n    desc = {\n      enumerable: true,\n      get: function get() {\n        return m[k];\n      }\n    };\n  }\n\n  Object.defineProperty(o, k2, desc);\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\n\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\n\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) {\n    if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  }\n\n  __setModuleDefault(result, mod);\n\n  return result;\n};\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar react_1 = __importStar(require(\"react\"));\n\nvar react_native_1 = require(\"react-native-web/dist/index\");\n\nvar react_native_reanimated_1 = __importStar(require(\"react-native-reanimated\"));\n\nvar draggableFlatListContext_1 = require(\"../context/draggableFlatListContext\");\n\nvar constants_1 = require(\"../constants\");\n\nvar useCellTranslate_1 = require(\"../hooks/useCellTranslate\");\n\nvar utils_1 = require(\"../utils\");\n\nvar refContext_1 = require(\"../context/refContext\");\n\nvar animatedValueContext_1 = require(\"../context/animatedValueContext\");\n\nvar cellContext_1 = __importDefault(require(\"../context/cellContext\"));\n\nfunction CellRendererComponent(props) {\n  var item = props.item,\n      index = props.index,\n      onLayout = props.onLayout,\n      children = props.children;\n  var currentIndexAnim = (0, react_native_reanimated_1.useValue)(index);\n  (0, react_1.useLayoutEffect)(function () {\n    currentIndexAnim.setValue(index);\n  }, [index, currentIndexAnim]);\n  var viewRef = (0, react_1.useRef)(null);\n\n  var _a = (0, refContext_1.useRefs)(),\n      cellDataRef = _a.cellDataRef,\n      propsRef = _a.propsRef,\n      scrollOffsetRef = _a.scrollOffsetRef,\n      containerRef = _a.containerRef;\n\n  var horizontalAnim = (0, animatedValueContext_1.useAnimatedValues)().horizontalAnim;\n\n  var _b = (0, draggableFlatListContext_1.useDraggableFlatListContext)(),\n      activeKey = _b.activeKey,\n      keyExtractor = _b.keyExtractor,\n      horizontal = _b.horizontal;\n\n  var key = keyExtractor(item, index);\n  var offset = (0, react_native_reanimated_1.useValue)(-1);\n  var size = (0, react_native_reanimated_1.useValue)(-1);\n  var translate = (0, useCellTranslate_1.useCellTranslate)({\n    cellOffset: offset,\n    cellSize: size,\n    cellIndex: currentIndexAnim\n  });\n  (0, react_1.useMemo)(function () {\n    if (constants_1.isWeb) translate.setValue(0);\n  }, [index]);\n  var isActive = activeKey === key;\n  var style = (0, react_1.useMemo)(function () {\n    return {\n      transform: [{\n        translateX: (0, react_native_reanimated_1.cond)(horizontalAnim, translate, 0)\n      }, {\n        translateY: (0, react_native_reanimated_1.cond)(horizontalAnim, 0, translate)\n      }]\n    };\n  }, [horizontalAnim, translate]);\n  var updateCellMeasurements = (0, react_1.useCallback)(function () {\n    var _a;\n\n    var onSuccess = function onSuccess(x, y, w, h) {\n      if (constants_1.isWeb && horizontal) x += scrollOffsetRef.current;\n      var cellOffset = horizontal ? x : y;\n      var cellSize = horizontal ? w : h;\n      cellDataRef.current.set(key, {\n        measurements: {\n          size: cellSize,\n          offset: cellOffset\n        }\n      });\n      size.setValue(cellSize);\n      offset.setValue(cellOffset);\n    };\n\n    var onFail = function onFail() {\n      var _a;\n\n      if ((_a = propsRef.current) === null || _a === void 0 ? void 0 : _a.debug) {\n        console.log(\"## on measure fail, index: \".concat(index));\n      }\n    };\n\n    var containerNode = containerRef.current;\n    var viewNode = constants_1.isReanimatedV2 ? viewRef.current : (_a = viewRef.current) === null || _a === void 0 ? void 0 : _a.getNode();\n    var nodeHandle = constants_1.isReanimatedV2 ? containerNode : (0, react_native_1.findNodeHandle)(containerNode);\n\n    if (viewNode && nodeHandle) {\n      viewNode.measureLayout(nodeHandle, onSuccess, onFail);\n    }\n  }, [cellDataRef, horizontal, index, key, offset, propsRef, size, scrollOffsetRef, containerRef]);\n  (0, react_1.useEffect)(function () {\n    if (constants_1.isWeb) {\n      updateCellMeasurements();\n    }\n  }, [index, updateCellMeasurements]);\n  var onCellLayout = (0, react_1.useCallback)(function (e) {\n    updateCellMeasurements();\n    if (onLayout) onLayout(e);\n  }, [updateCellMeasurements, onLayout]);\n  return react_1.default.createElement(react_native_reanimated_1.default.View, __assign({}, props, {\n    ref: viewRef,\n    onLayout: onCellLayout,\n    style: [constants_1.isAndroid && {\n      elevation: isActive ? 1 : 0\n    }, {\n      flexDirection: horizontal ? \"row\" : \"column\"\n    }, (constants_1.isWeb || constants_1.isIOS) && {\n      zIndex: isActive ? 999 : 0\n    }],\n    pointerEvents: activeKey ? \"none\" : \"auto\"\n  }), react_1.default.createElement(react_native_reanimated_1.default.View, __assign({}, props, {\n    style: [props.style, style]\n  }), react_1.default.createElement(cellContext_1.default, {\n    isActive: isActive\n  }, children)));\n}\n\nexports.default = (0, utils_1.typedMemo)(CellRendererComponent);","map":{"version":3,"names":["__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","__createBinding","create","o","m","k","k2","undefined","desc","getOwnPropertyDescriptor","__esModule","writable","configurable","enumerable","get","defineProperty","__setModuleDefault","v","value","__importStar","mod","result","__importDefault","exports","react_1","require","react_native_reanimated_1","draggableFlatListContext_1","constants_1","useCellTranslate_1","utils_1","refContext_1","animatedValueContext_1","cellContext_1","CellRendererComponent","props","item","index","onLayout","children","currentIndexAnim","useValue","useLayoutEffect","setValue","viewRef","useRef","_a","useRefs","cellDataRef","propsRef","scrollOffsetRef","containerRef","horizontalAnim","useAnimatedValues","_b","useDraggableFlatListContext","activeKey","keyExtractor","horizontal","key","offset","size","translate","useCellTranslate","cellOffset","cellSize","cellIndex","useMemo","isWeb","isActive","style","transform","translateX","cond","translateY","updateCellMeasurements","useCallback","onSuccess","x","y","w","h","current","set","measurements","onFail","debug","console","log","concat","containerNode","viewNode","isReanimatedV2","getNode","nodeHandle","react_native_1","findNodeHandle","measureLayout","useEffect","onCellLayout","e","default","createElement","View","ref","isAndroid","elevation","flexDirection","isIOS","zIndex","pointerEvents","typedMemo"],"sources":["C:/Users/oplati/Desktop/expo dragdrop/node_modules/react-native-draggable-flatlist/lib/components/CellRendererComponent.js"],"sourcesContent":["\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar react_1 = __importStar(require(\"react\"));\nvar react_native_1 = require(\"react-native\");\nvar react_native_reanimated_1 = __importStar(require(\"react-native-reanimated\"));\nvar draggableFlatListContext_1 = require(\"../context/draggableFlatListContext\");\nvar constants_1 = require(\"../constants\");\nvar useCellTranslate_1 = require(\"../hooks/useCellTranslate\");\nvar utils_1 = require(\"../utils\");\nvar refContext_1 = require(\"../context/refContext\");\nvar animatedValueContext_1 = require(\"../context/animatedValueContext\");\nvar cellContext_1 = __importDefault(require(\"../context/cellContext\"));\nfunction CellRendererComponent(props) {\n    var item = props.item, index = props.index, onLayout = props.onLayout, children = props.children;\n    var currentIndexAnim = (0, react_native_reanimated_1.useValue)(index);\n    (0, react_1.useLayoutEffect)(function () {\n        currentIndexAnim.setValue(index);\n    }, [index, currentIndexAnim]);\n    var viewRef = (0, react_1.useRef)(null);\n    var _a = (0, refContext_1.useRefs)(), cellDataRef = _a.cellDataRef, propsRef = _a.propsRef, scrollOffsetRef = _a.scrollOffsetRef, containerRef = _a.containerRef;\n    var horizontalAnim = (0, animatedValueContext_1.useAnimatedValues)().horizontalAnim;\n    var _b = (0, draggableFlatListContext_1.useDraggableFlatListContext)(), activeKey = _b.activeKey, keyExtractor = _b.keyExtractor, horizontal = _b.horizontal;\n    var key = keyExtractor(item, index);\n    var offset = (0, react_native_reanimated_1.useValue)(-1);\n    var size = (0, react_native_reanimated_1.useValue)(-1);\n    var translate = (0, useCellTranslate_1.useCellTranslate)({\n        cellOffset: offset,\n        cellSize: size,\n        cellIndex: currentIndexAnim,\n    });\n    (0, react_1.useMemo)(function () {\n        // prevent flicker on web\n        if (constants_1.isWeb)\n            translate.setValue(0);\n    }, [index]); //eslint-disable-line react-hooks/exhaustive-deps\n    var isActive = activeKey === key;\n    var style = (0, react_1.useMemo)(function () { return ({\n        transform: [\n            { translateX: (0, react_native_reanimated_1.cond)(horizontalAnim, translate, 0) },\n            { translateY: (0, react_native_reanimated_1.cond)(horizontalAnim, 0, translate) },\n        ],\n    }); }, [horizontalAnim, translate]);\n    var updateCellMeasurements = (0, react_1.useCallback)(function () {\n        var _a;\n        var onSuccess = function (x, y, w, h) {\n            if (constants_1.isWeb && horizontal)\n                x += scrollOffsetRef.current;\n            var cellOffset = horizontal ? x : y;\n            var cellSize = horizontal ? w : h;\n            cellDataRef.current.set(key, {\n                measurements: { size: cellSize, offset: cellOffset },\n            });\n            size.setValue(cellSize);\n            offset.setValue(cellOffset);\n        };\n        var onFail = function () {\n            var _a;\n            if ((_a = propsRef.current) === null || _a === void 0 ? void 0 : _a.debug) {\n                console.log(\"## on measure fail, index: \".concat(index));\n            }\n        };\n        // findNodeHandle is being deprecated. This is no longer necessary if using reanimated v2\n        // remove once v1 is no longer supported\n        var containerNode = containerRef.current;\n        var viewNode = constants_1.isReanimatedV2\n            ? viewRef.current\n            : (_a = viewRef.current) === null || _a === void 0 ? void 0 : _a.getNode();\n        //@ts-ignore\n        var nodeHandle = constants_1.isReanimatedV2\n            ? containerNode\n            : (0, react_native_1.findNodeHandle)(containerNode);\n        if (viewNode && nodeHandle) {\n            //@ts-ignore\n            viewNode.measureLayout(nodeHandle, onSuccess, onFail);\n        }\n    }, [\n        cellDataRef,\n        horizontal,\n        index,\n        key,\n        offset,\n        propsRef,\n        size,\n        scrollOffsetRef,\n        containerRef,\n    ]);\n    (0, react_1.useEffect)(function () {\n        if (constants_1.isWeb) {\n            // onLayout isn't called on web when the cell index changes, so we manually re-measure\n            updateCellMeasurements();\n        }\n    }, [index, updateCellMeasurements]);\n    var onCellLayout = (0, react_1.useCallback)(function (e) {\n        updateCellMeasurements();\n        if (onLayout)\n            onLayout(e);\n    }, [updateCellMeasurements, onLayout]);\n    // changing zIndex crashes android:\n    // https://github.com/facebook/react-native/issues/28751\n    return (react_1.default.createElement(react_native_reanimated_1.default.View, __assign({}, props, { ref: viewRef, onLayout: onCellLayout, style: [\n            constants_1.isAndroid && { elevation: isActive ? 1 : 0 },\n            { flexDirection: horizontal ? \"row\" : \"column\" },\n            (constants_1.isWeb || constants_1.isIOS) && { zIndex: isActive ? 999 : 0 },\n        ], pointerEvents: activeKey ? \"none\" : \"auto\" }),\n        react_1.default.createElement(react_native_reanimated_1.default.View, __assign({}, props, { \n            // Including both animated styles and non-animated styles causes react-native-web\n            // to ignore updates in non-animated styles. Solution is to separate animated styles from non-animated styles\n            style: [props.style, style] }),\n            react_1.default.createElement(cellContext_1.default, { isActive: isActive }, children))));\n}\nexports.default = (0, utils_1.typedMemo)(CellRendererComponent);\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}