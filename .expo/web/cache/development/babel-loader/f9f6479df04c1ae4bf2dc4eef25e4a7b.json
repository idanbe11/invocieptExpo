{"ast":null,"code":"\"use strict\";\n\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n\n  if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n    desc = {\n      enumerable: true,\n      get: function get() {\n        return m[k];\n      }\n    };\n  }\n\n  Object.defineProperty(o, k2, desc);\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\n\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\n\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) {\n    if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  }\n\n  __setModuleDefault(result, mod);\n\n  return result;\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar react_1 = __importStar(require(\"react\"));\n\nvar react_native_1 = require(\"react-native-web/dist/index\");\n\nvar react_native_reanimated_1 = __importStar(require(\"react-native-reanimated\"));\n\nvar animatedValueContext_1 = require(\"../context/animatedValueContext\");\n\nvar draggableFlatListContext_1 = require(\"../context/draggableFlatListContext\");\n\nvar propsContext_1 = require(\"../context/propsContext\");\n\nvar refContext_1 = require(\"../context/refContext\");\n\nvar useNode_1 = require(\"../hooks/useNode\");\n\nvar utils_1 = require(\"../utils\");\n\nfunction PlaceholderItem(_a) {\n  var _b, _c;\n\n  var _d;\n\n  var renderPlaceholder = _a.renderPlaceholder;\n\n  var _e = (0, animatedValueContext_1.useAnimatedValues)(),\n      activeCellSize = _e.activeCellSize,\n      placeholderOffset = _e.placeholderOffset,\n      spacerIndexAnim = _e.spacerIndexAnim,\n      scrollOffset = _e.scrollOffset;\n\n  var _f = (0, react_1.useState)(0),\n      placeholderSize = _f[0],\n      setPlaceholderSize = _f[1];\n\n  var _g = (0, refContext_1.useRefs)(),\n      keyToIndexRef = _g.keyToIndexRef,\n      propsRef = _g.propsRef;\n\n  var activeKey = (0, draggableFlatListContext_1.useDraggableFlatListContext)().activeKey;\n  var horizontal = (0, propsContext_1.useProps)().horizontal;\n  var onPlaceholderIndexChange = (0, react_1.useCallback)(function (index) {\n    var _a, _b;\n\n    (_b = (_a = propsRef.current).onPlaceholderIndexChange) === null || _b === void 0 ? void 0 : _b.call(_a, index);\n  }, [propsRef]);\n  (0, react_native_reanimated_1.useCode)(function () {\n    return (0, react_native_reanimated_1.block)([(0, react_native_reanimated_1.onChange)(activeCellSize, (0, react_native_reanimated_1.call)([activeCellSize], function (_a) {\n      var size = _a[0];\n      setPlaceholderSize(size);\n    })), (0, react_native_reanimated_1.onChange)(spacerIndexAnim, (0, react_native_reanimated_1.call)([spacerIndexAnim], function (_a) {\n      var i = _a[0];\n      onPlaceholderIndexChange(i);\n      if (i === -1) setPlaceholderSize(0);\n    }))]);\n  }, []);\n  var translateKey = horizontal ? \"translateX\" : \"translateY\";\n  var sizeKey = horizontal ? \"width\" : \"height\";\n  var opacity = (0, useNode_1.useNode)((0, react_native_reanimated_1.cond)((0, react_native_reanimated_1.greaterThan)(spacerIndexAnim, -1), 1, 0));\n  var activeIndex = activeKey ? keyToIndexRef.current.get(activeKey) : undefined;\n  var activeItem = activeIndex === undefined ? null : (_d = propsRef.current) === null || _d === void 0 ? void 0 : _d.data[activeIndex];\n  var animStyle = (_b = {\n    opacity: opacity\n  }, _b[sizeKey] = placeholderSize, _b.transform = [(_c = {}, _c[translateKey] = (0, react_native_reanimated_1.sub)(placeholderOffset, scrollOffset), _c)], _b);\n  return react_1.default.createElement(react_native_reanimated_1.default.View, {\n    pointerEvents: activeKey ? \"auto\" : \"none\",\n    style: [react_native_1.StyleSheet.absoluteFill, animStyle]\n  }, !activeItem || activeIndex === undefined ? null : renderPlaceholder === null || renderPlaceholder === void 0 ? void 0 : renderPlaceholder({\n    item: activeItem,\n    index: activeIndex\n  }));\n}\n\nexports.default = (0, utils_1.typedMemo)(PlaceholderItem);","map":{"version":3,"names":["__createBinding","Object","create","o","m","k","k2","undefined","desc","getOwnPropertyDescriptor","__esModule","writable","configurable","enumerable","get","defineProperty","__setModuleDefault","v","value","__importStar","mod","result","prototype","hasOwnProperty","call","exports","react_1","require","react_native_reanimated_1","animatedValueContext_1","draggableFlatListContext_1","propsContext_1","refContext_1","useNode_1","utils_1","PlaceholderItem","_a","_b","_c","_d","renderPlaceholder","_e","useAnimatedValues","activeCellSize","placeholderOffset","spacerIndexAnim","scrollOffset","_f","useState","placeholderSize","setPlaceholderSize","_g","useRefs","keyToIndexRef","propsRef","activeKey","useDraggableFlatListContext","horizontal","useProps","onPlaceholderIndexChange","useCallback","index","current","useCode","block","onChange","size","i","translateKey","sizeKey","opacity","useNode","cond","greaterThan","activeIndex","activeItem","data","animStyle","transform","sub","default","createElement","View","pointerEvents","style","react_native_1","StyleSheet","absoluteFill","item","typedMemo"],"sources":["C:/Users/oplati/Desktop/expo dragdrop/node_modules/react-native-draggable-flatlist/lib/components/PlaceholderItem.js"],"sourcesContent":["\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar react_1 = __importStar(require(\"react\"));\nvar react_native_1 = require(\"react-native\");\nvar react_native_reanimated_1 = __importStar(require(\"react-native-reanimated\"));\nvar animatedValueContext_1 = require(\"../context/animatedValueContext\");\nvar draggableFlatListContext_1 = require(\"../context/draggableFlatListContext\");\nvar propsContext_1 = require(\"../context/propsContext\");\nvar refContext_1 = require(\"../context/refContext\");\nvar useNode_1 = require(\"../hooks/useNode\");\nvar utils_1 = require(\"../utils\");\nfunction PlaceholderItem(_a) {\n    var _b, _c;\n    var _d;\n    var renderPlaceholder = _a.renderPlaceholder;\n    var _e = (0, animatedValueContext_1.useAnimatedValues)(), activeCellSize = _e.activeCellSize, placeholderOffset = _e.placeholderOffset, spacerIndexAnim = _e.spacerIndexAnim, scrollOffset = _e.scrollOffset;\n    var _f = (0, react_1.useState)(0), placeholderSize = _f[0], setPlaceholderSize = _f[1];\n    var _g = (0, refContext_1.useRefs)(), keyToIndexRef = _g.keyToIndexRef, propsRef = _g.propsRef;\n    var activeKey = (0, draggableFlatListContext_1.useDraggableFlatListContext)().activeKey;\n    var horizontal = (0, propsContext_1.useProps)().horizontal;\n    var onPlaceholderIndexChange = (0, react_1.useCallback)(function (index) {\n        var _a, _b;\n        (_b = (_a = propsRef.current).onPlaceholderIndexChange) === null || _b === void 0 ? void 0 : _b.call(_a, index);\n    }, [propsRef]);\n    (0, react_native_reanimated_1.useCode)(function () {\n        return (0, react_native_reanimated_1.block)([\n            (0, react_native_reanimated_1.onChange)(activeCellSize, (0, react_native_reanimated_1.call)([activeCellSize], function (_a) {\n                var size = _a[0];\n                // Using animated values to set height caused a bug where item wouldn't correctly update\n                // so instead we mirror the animated value in component state.\n                setPlaceholderSize(size);\n            })),\n            (0, react_native_reanimated_1.onChange)(spacerIndexAnim, (0, react_native_reanimated_1.call)([spacerIndexAnim], function (_a) {\n                var i = _a[0];\n                onPlaceholderIndexChange(i);\n                if (i === -1)\n                    setPlaceholderSize(0);\n            })),\n        ]);\n    }, []);\n    var translateKey = horizontal ? \"translateX\" : \"translateY\";\n    var sizeKey = horizontal ? \"width\" : \"height\";\n    var opacity = (0, useNode_1.useNode)((0, react_native_reanimated_1.cond)((0, react_native_reanimated_1.greaterThan)(spacerIndexAnim, -1), 1, 0));\n    var activeIndex = activeKey\n        ? keyToIndexRef.current.get(activeKey)\n        : undefined;\n    var activeItem = activeIndex === undefined ? null : (_d = propsRef.current) === null || _d === void 0 ? void 0 : _d.data[activeIndex];\n    var animStyle = (_b = {\n            opacity: opacity\n        },\n        _b[sizeKey] = placeholderSize,\n        _b.transform = [\n            (_c = {}, _c[translateKey] = (0, react_native_reanimated_1.sub)(placeholderOffset, scrollOffset), _c),\n        ],\n        _b);\n    return (react_1.default.createElement(react_native_reanimated_1.default.View, { pointerEvents: activeKey ? \"auto\" : \"none\", style: [react_native_1.StyleSheet.absoluteFill, animStyle] }, !activeItem || activeIndex === undefined\n        ? null\n        : renderPlaceholder === null || renderPlaceholder === void 0 ? void 0 : renderPlaceholder({ item: activeItem, index: activeIndex })));\n}\nexports.default = (0, utils_1.typedMemo)(PlaceholderItem);\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}